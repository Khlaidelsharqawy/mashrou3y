<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MASHROU3Y - ููุตุฉ ุงูุทูุงุจ ุงูุฌุงูุนูุฉ</title>
  <meta name="description" content="MASHROU3Y - ููุตุฉ ุชุนููููุฉ ูุชูุงููุฉ ูุจูุน ูุดุฑุงุก ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ ูุงููุดุงุฑูุน ุงูุฌุงูุฒุฉ ูุงูุนุฑูุถ ุงูุชูุฏูููุฉ">
  <meta name="keywords" content="ุชุนููู, ููุงุฏ ุฏุฑุงุณูุฉ, ูุดุงุฑูุน, ุนุฑูุถ ุชูุฏูููุฉ, MASHROU3Y, ูุดุฑูุนู">
  <meta name="author" content="MASHROU3Y">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../images/logo2.jpg">

  <!-- TailwindCSS & Fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/style.css">
  
  <!-- Preload Critical Assets -->
  <link rel="preload" href="../images/logo2.jpg" as="image">
  <link rel="preload" href="../images/logo3.jpg" as="image">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Supabase CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Main App Scripts -->
  <script type="module" src="../scripts/main.js" defer></script>
  <script type="module" src="../scripts/auth-guard.js" defer></script>
  <script type="module" src="../scripts/translations.js" defer></script>
  <script type="module" src="../scripts/theme.js" defer></script>
  <script type="module" src="../scripts/utils.js" defer></script>
  
  <!-- Problem Fixer -->
  <script src="../fix-problems.js" defer></script>

  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      scroll-behavior: smooth;
    }
    .gradient-bg {
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
    }
    .text-gradient {
      background: linear-gradient(90deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .btn-primary {
      background-color: #6366f1;
      color: white;
      border-radius: 0.5rem;
      padding: 0.75rem 2rem;
      transition: all 0.3s;
    }
    .btn-primary:hover {
      background-color: #4338ca;
      transform: translateY(-2px);
    }
    .btn-outline {
      border: 2px solid #6366f1;
      color: #6366f1;
      border-radius: 0.5rem;
      padding: 0.75rem 2rem;
      transition: all 0.3s;
    }
    .btn-outline:hover {
      background-color: #6366f1;
      color: white;
      transform: translateY(-2px);
    }
    .card {
      background-color: white;
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(0,0,0,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid #f3f4f6;
    }
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    .navbar {
      backdrop-filter: blur(10px);
      background-color: rgba(255, 255, 255, 0.95);
    }
    .hero-background {
      background-image: url('../images/logo3.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      position: relative;
    }
    .hero-overlay {
      background: rgba(0, 0, 0, 0.7);
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    .floating {
      animation: floating 3s ease-in-out infinite;
    }
    @keyframes floating {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Sticky Navbar -->
  <nav class="navbar fixed top-0 left-0 right-0 z-50 border-b border-gray-200">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex items-center space-x-3 space-x-reverse">
          <img src="../images/logo2.jpg" alt="ุดุนุงุฑ MASHROU3Y" class="w-12 h-12 rounded-lg">
          <span class="text-2xl font-bold text-gradient">MASHROU3Y</span>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="flex items-center space-x-4 space-x-reverse">
          <!-- Language Toggle -->
          <button id="language-toggle" data-language-toggle class="bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 space-x-reverse">
            <i class="fas fa-globe"></i>
            <span class="text-sm font-medium" data-translate="arabic">ุงูุนุฑุจูุฉ</span>
          </button>
          
          <!-- Theme Toggle -->
          <button id="theme-toggle" data-theme-toggle class="bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 space-x-reverse">
            <i class="fas fa-sun" data-theme-icon></i>
            <span class="text-sm font-medium" data-translate="light">ูุงุชุญ</span>
          </button>
          
          <a href="login.html" class="btn-outline text-sm">
            <i class="fas fa-sign-in-alt ml-2"></i>
            <span data-translate="login">ุชุณุฌูู ุงูุฏุฎูู</span>
          </a>
          <a href="signup.html" class="btn-primary text-sm">
            <i class="fas fa-user-plus ml-2"></i>
            <span data-translate="signup">ุญุณุงุจู</span>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-background text-white pt-24 pb-20 relative overflow-hidden">
    <div class="hero-overlay"></div>
    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center max-w-4xl mx-auto">
        <div class="floating mb-8">
          <img src="../images/logo2.jpg" alt="ุดุนุงุฑ MASHROU3Y" class="mx-auto w-32 h-32 rounded-2xl shadow-2xl">
        </div>
        <h1 class="text-5xl md:text-7xl font-bold mb-6">
          MASHROU3Y
          <span class="text-yellow-300" data-translate="hero_subtitle">- ููุตุชู ุงูุชุนููููุฉ ููููุงุฏ ูุงููุดุงุฑูุน ูุงูุนุฑูุถ</span>
          <span class="text-4xl md:text-6xl">๐</span>
        </h1>
        <p class="text-xl md:text-2xl mb-8 opacity-90" data-translate="hero_description">
          ููุตุฉ ุชุนููููุฉ ูุชูุงููุฉ ุชุฌูุน ูู ูุง ุชุญุชุงุฌู ูู ููุงู ูุงุญุฏ
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
          <a href="#categories" class="btn-primary text-lg bg-white text-purple-600 hover:bg-gray-100">
            <i class="fas fa-rocket ml-2"></i>
            <span data-translate="start_now">ุงุจุฏุฃ ุงูุขู</span>
          </a>
          <a href="login.html" class="btn-outline text-lg border-white text-white hover:bg-white hover:text-purple-600">
            <i class="fas fa-play ml-2"></i>
            <span data-translate="view_content">ุดูู ุงููุญุชูู</span>
          </a>
        </div>
      </div>
    </div>
    
    <!-- Decorative Elements -->
    <div class="absolute top-20 left-10 text-4xl opacity-20">๐</div>
    <div class="absolute top-32 right-20 text-3xl opacity-20">๐ป</div>
    <div class="absolute bottom-20 left-20 text-3xl opacity-20">๐ฏ</div>
    <div class="absolute bottom-32 right-10 text-4xl opacity-20">๐</div>
  </section>

  <!-- Categories Section -->
  <section id="categories" class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4" data-translate="categories_title">
          ุฎุฏ ุงููู ูุญุชุงุฌู ูู ุซูุงูู ูุง ูุฌู ๐ก
        </h2>
        <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto" data-translate="categories_description">
          ุงูุชุดู ูุฌููุนุฉ ูุชููุนุฉ ูู ุงููุญุชููุงุช ุงูุชุนููููุฉ ุนุงููุฉ ุงูุฌูุฏุฉ ุงููุตููุฉ ุฎุตูุตุงู ูุทูุงุจ ุงูุฌุงูุนุงุช
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Materials Card -->
        <div class="card text-center p-8 group cursor-pointer" onclick="handleCardClick('materials')">
          <div class="text-6xl mb-6 group-hover:scale-110 transition-transform">๐</div>
          <h3 class="text-2xl font-bold mb-3 text-gray-800" data-translate="materials">ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</h3>
          <p class="text-gray-600 mb-6" data-translate="materials_description">ููุฎุตุงุช ูุดุฑูุญุงุช ุดุงููุฉ ูุฌููุน ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</p>
          <div class="card-features mb-6 text-sm text-gray-500">
            <div class="mb-2">โ ููุฎุตุงุช ุดุงููุฉ</div>
            <div class="mb-2">โ ุดุฑูุญุงุช ููุตูุฉ</div>
            <div>โ ุฃุณุฆูุฉ ูุชูุงุฑูู</div>
          </div>
          <span class="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all transform hover:scale-105">
            <i class="fas fa-eye ml-2"></i>
            ุชุตูุญ ุงูููุงุฏ
          </span>
        </div>

        <!-- Projects Card -->
        <div class="card text-center p-8 group cursor-pointer" onclick="handleCardClick('projects')">
          <div class="text-6xl mb-6 group-hover:scale-110 transition-transform">๐ป</div>
          <h3 class="text-2xl font-bold mb-3 text-gray-800" data-translate="projects">ุงููุดุงุฑูุน ุงูุฌุงูุฒุฉ</h3>
          <p class="text-gray-600 mb-6" data-translate="projects_description">ูุดุฑูุนู ุงูุฌุงูุฒ... ูู ุฌูุจู! ๐ป</p>
          <div class="card-features mb-6 text-sm text-gray-500">
            <div class="mb-2">โ ูุดุงุฑูุน ุชุฎุฑุฌ</div>
            <div class="mb-2">โ ููุฏ ุฌุงูุฒ</div>
            <div>โ ุชูุซูู ุดุงูู</div>
          </div>
          <span class="inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all transform hover:scale-105">
            <i class="fas fa-code ml-2"></i>
            ุชุตูุญ ุงููุดุงุฑูุน
          </span>
        </div>

        <!-- Presentations Card -->
        <div class="card text-center p-8 group cursor-pointer" onclick="handleCardClick('presentations')">
          <div class="text-6xl mb-6 group-hover:scale-110 transition-transform">๐ผ๏ธ</div>
          <h3 class="text-2xl font-bold mb-3 text-gray-800" data-translate="presentations">ุงูุนุฑูุถ ุงูุชูุฏูููุฉ</h3>
          <p class="text-gray-600 mb-6" data-translate="presentations_description">ุจุงูุฑุจูููุช ุงุญุชุฑุงูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู</p>
          <div class="card-features mb-6 text-sm text-gray-500">
            <div class="mb-2">โ ุชุตููู ุงุญุชุฑุงูู</div>
            <div class="mb-2">โ ููุงูุจ ุฌุงูุฒุฉ</div>
            <div>โ ูุงุจู ููุชุนุฏูู</div>
          </div>
          <span class="inline-block bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-all transform hover:scale-105">
            <i class="fas fa-presentation ml-2"></i>
            ุชุตูุญ ุงูุนุฑูุถ
          </span>
        </div>

        <!-- Store Card -->
        <div class="card text-center p-8 group cursor-pointer" onclick="handleCardClick('store')">
          <div class="text-6xl mb-6 group-hover:scale-110 transition-transform">๐</div>
          <h3 class="text-2xl font-bold mb-3 text-gray-800">ุงููุชุฌุฑ ุงูุฑููู</h3>
          <p class="text-gray-600 mb-6">ุดุฑุงุก ูุญุชูู ุชุนูููู ููุดุงุฑูุน ุจุณูููุฉ</p>
          <div class="card-features mb-6 text-sm text-gray-500">
            <div class="mb-2">โ ุฏูุน ุขูู</div>
            <div class="mb-2">โ ุชุญููู ููุฑู</div>
            <div>โ ุถูุงู ุงูุฌูุฏุฉ</div>
          </div>
          <span class="inline-block bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-all transform hover:scale-105">
            <i class="fas fa-shopping-cart ml-2"></i>
            ุชุตูุญ ุงููุชุฌุฑ
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
          ููู ุชุฎุชุงุฑ MASHROU3Yุ ๐ค
        </h2>
        <p class="text-lg md:text-xl text-gray-600">
          ููุตุฉ ููุซููุฉ ููุฌุฑุจุฉ ูู ุขูุงู ุงูุทูุงุจ
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="text-5xl mb-4">๐</div>
          <h3 class="text-xl font-bold mb-2">ุณุฑุนุฉ ูู ุงูุชูุตูู</h3>
          <p class="text-gray-600">ุงุญุตู ุนูู ูุญุชูุงู ูู ุซูุงูู ูุนุฏูุฏุฉ</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-4">๐ก๏ธ</div>
          <h3 class="text-xl font-bold mb-2">ุฌูุฏุฉ ูุถูููุฉ</h3>
          <p class="text-gray-600">ุฌููุน ุงููุญุชููุงุช ูุฑุงุฌุนุฉ ููุคูุฏุฉ ุงูุฌูุฏุฉ</p>
        </div>
        <div class="text-center">
          <div class="text-5xl mb-4">๐ฐ</div>
          <h3 class="text-xl font-bold mb-2">ุฃุณุนุงุฑ ููุงุณุจุฉ</h3>
          <p class="text-gray-600">ุฃุณุนุงุฑ ุชูุงุณุจ ุฌููุน ุงูุทูุงุจ</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Company Info -->
        <div class="col-span-1 md:col-span-2">
          <div class="flex items-center space-x-3 space-x-reverse mb-4">
            <img src="../images/logo2.jpg" alt="ุดุนุงุฑ MASHROU3Y" class="w-12 h-12 rounded-lg">
            <span class="text-2xl font-bold text-gradient">MASHROU3Y</span>
          </div>
          <p class="text-gray-300 mb-4">
            ููุตุฉ ุชุนููููุฉ ูุชูุงููุฉ ูุฎุฏูุฉ ุงูุทูุงุจ ูุงูุจุงุญุซูู ูู ูุตุฑ ูุงูุนุงูู ุงูุนุฑุจู
          </p>
          <div class="flex space-x-4 space-x-reverse">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-facebook text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-twitter text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-instagram text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-linkedin text-xl"></i>
            </a>
          </div>
        </div>

        <!-- Services -->
        <div>
          <h3 class="text-xl font-bold mb-4">ุฎุฏูุงุชูุง</h3>
          <ul class="space-y-2 text-gray-300">
            <li><i class="fas fa-book ml-2"></i>ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</li>
            <li><i class="fas fa-code ml-2"></i>ุงููุดุงุฑูุน ุงูุฌุงูุฒุฉ</li>
            <li><i class="fas fa-presentation ml-2"></i>ุงูุนุฑูุถ ุงูุชูุฏูููุฉ</li>
            <li><i class="fas fa-store ml-2"></i>ุงููุชุฌุฑ ุงูุฑููู</li>
          </ul>
        </div>

        <!-- Contact -->
        <!-- <div>
          <h3 class="text-xl font-bold mb-4"></h3>
          <div class="space-y-2 text-gray-300">
            <p><i class="fas fa-envelope ml-2"></i></p>
            <p><i class="fas fa-phone ml-2"></i></p>
            <p class="text-sm"></p>

          </div>
        </div>
      </div> -->
      
      <div class="border-t border-gray-700 mt-8 pt-8 text-center">
        <p class="text-gray-400 text-sm">
          &copy; 2024 MASHROU3Y. ุฌููุน ุงูุญููู ูุญููุธุฉ. | 
          <a href="#" class="hover:text-white transition-colors">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a> | 
          <a href="#" class="hover:text-white transition-colors">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- Access Control Script -->
  <script>
    // ุชูููู Supabase ุจุงุณุชุฎุฏุงู CDN
    const supabaseUrl = 'https://ycomaasvlmnuscmkooti.supabase.co';
    const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inljb21hYXN2bG1udXNjbWtvb3RpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4MDg3NjUsImV4cCI6MjA2OTM4NDc2NX0.8rm-tCGJtwWnMz2Z3TXm8WWAVruRvIgIOotsZKZ3zWA'; // โ ุงุณุชุจุฏููุง ุจุงูููุชุงุญ ุงูุตุญูุญ
    const supabase = window.supabase.createClient(supabaseUrl, supabaseAnonKey);
    
    // ุฏุงูุฉ ููุญุต ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
    async function checkAccess() {
      try {
        const { data: { session } } = await supabase.auth.getSession();
        if (!session) {
          // ุชุบุจูุด ุฃู ุชุนุทูู ุชูุงุตูู ุงูุจุทุงูุงุช
          document.querySelectorAll('.card').forEach(card => {
            card.style.filter = 'blur(2px)';
            card.style.pointerEvents = 'none';
            // ุฅุถุงูุฉ ุฑุณุงูุฉ ูุฏูุฉ ุจุงูููุฌุฉ ุงููุตุฑูุฉ
            if (!card.querySelector('.locked-msg')) {
              const msg = document.createElement('div');
              msg.className = 'locked-msg text-center text-red-600 font-bold mt-4';
              msg.innerHTML = 'ุงุณุชูู ููุง ุงูุฃุฏูู ููุชุญูู ุงูุจุงุจ ูุง ูุฌู ๐<br>ุณุฌู ุฏุฎููู ุงูุฃูู ุนุดุงู ุชุดูู ุงูุชูุงุตูู';
              card.appendChild(msg);
            }
          });
        } else {
          // ุฅุฒุงูุฉ ุงูุชุบุจูุด ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
          document.querySelectorAll('.card').forEach(card => {
            card.style.filter = '';
            card.style.pointerEvents = '';
            const msg = card.querySelector('.locked-msg');
            if (msg) msg.remove();
          });
        }
      } catch (error) {
        console.error('ุฎุทุฃ ูู ูุญุต ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู:', error);
      }
    }
    
    // ุฏุงูุฉ ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุงูุจุทุงูุงุช
    window.handleCardClick = async function(category) {
      console.log(`ุชู ุงูููุฑ ุนูู ูุฆุฉ: ${category}`);
      
      try {
        // ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
        const { data: { session } } = await supabase.auth.getSession();
        
        if (!session) {
          // ุฅุธูุงุฑ ุฑุณุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
          showMessage('ูุญุชุงุฌ ุชุณุฌู ุฏุฎูู ุงูุฃูู ูุง ูุฌู ๐', 'warning');
          setTimeout(() => {
            window.location.href = 'login.html';
          }, 2000);
          return;
        }
        
        // ุงูุชุญูู ูู ุงูุชูุงู ุงูููู ุงูุดุฎุตู
        const { data: userProfile, error: profileError } = await supabase
          .from('users')
          .select('*')
          .eq('email', session.user.email)
          .single();
        
        if (profileError || !userProfile) {
          showMessage('ูุญุชุงุฌ ุชููู ูููู ุงูุดุฎุตู ุงูุฃูู ๐', 'warning');
          setTimeout(() => {
            window.location.href = 'signup.html';
          }, 2000);
          return;
        }
        
        if (!userProfile.is_approved) {
          showMessage('ุญุณุงุจู ููุฏ ุงููุฑุงุฌุนุฉุ ุงุณุชูู ุงูุฃุฏูู ููุงูู ุนููู ๐', 'info');
          setTimeout(() => {
            window.location.href = 'waiting-approval.html';
          }, 2000);
          return;
        }
        
        // ุฅุนุงุฏุฉ ุงูุชูุฌูู ููุตูุญุฉ ุงููุทููุจุฉ
        switch(category) {
          case 'materials':
            window.location.href = 'materials.html';
            break;
          case 'projects':
            window.location.href = 'projects.html';
            break;
          case 'presentations':
            window.location.href = 'presentations.html';
            break;
          case 'store':
            window.location.href = 'stores.html';
            break;
          default:
            console.log('ูุฆุฉ ุบูุฑ ูุนุฑููุฉ:', category);
        }
      } catch (error) {
        console.error('ุฎุทุฃ ูู ูุนุงูุฌุฉ ุงูููุฑ:', error);
        showMessage('ูู ูุดููุฉุ ุฌุฑุจ ุชุงูู ๐', 'error');
      }
    };
    
    // ุฏุงูุฉ ุฅุธูุงุฑ ุงูุฑุณุงุฆู
    function showMessage(message, type = 'info') {
      const messageDiv = document.createElement('div');
      messageDiv.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${
        type === 'error' ? 'bg-red-500 text-white' :
        type === 'warning' ? 'bg-yellow-500 text-white' :
        type === 'success' ? 'bg-green-500 text-white' :
        'bg-blue-500 text-white'
      }`;
      messageDiv.textContent = message;
      document.body.appendChild(messageDiv);
      
      setTimeout(() => {
        messageDiv.remove();
      }, 3000);
    }
    
    // ุชููุฆุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
    document.addEventListener('DOMContentLoaded', function() {
      checkAccess();
      // ุชุญุฏูุซ ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุฌูุณุฉ
      supabase.auth.onAuthStateChange(checkAccess);
      
      // ุชููุฆุฉ ูุธุงู ุงูุชุฑุฌูุฉ
      if (window.Translations) {
        window.Translations.init();
      }
      
      // ุชููุฆุฉ ูุธุงู ุงูุซููุงุช
      if (window.themeManager) {
        // ุงูุชุฃูุฏ ูู ุชุทุจูู ุงูุซูู ุงูุตุญูุญ
        window.themeManager.applyTheme(window.themeManager.getCurrentTheme());
      }
      
      // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ูุฃุฒุฑุงุฑ ุงูุชุจุฏูู
      const languageToggle = document.getElementById('language-toggle');
      const themeToggle = document.getElementById('theme-toggle');
      
      if (languageToggle) {
        languageToggle.addEventListener('click', () => {
          if (window.Translations) {
            const currentLang = window.Translations.getCurrentLanguage();
            const newLang = currentLang === 'ar' ? 'en' : 'ar';
            window.Translations.change(newLang);
            
            // ุชุญุฏูุซ ูุต ุฒุฑ ุงููุบุฉ
            const langText = languageToggle.querySelector('span');
            if (langText) {
              langText.textContent = newLang === 'ar' ? 'ุงูุนุฑุจูุฉ' : 'English';
            }
            
            // ุชุญุฏูุซ ุงุชุฌุงู ุงูุตูุญุฉ
            document.documentElement.dir = newLang === 'ar' ? 'rtl' : 'ltr';
            
            // ุชุญุฏูุซ ุงุชุฌุงู ุงูุนูุงุตุฑ
            document.documentElement.lang = newLang;
          }
        });
      }
      
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          if (window.themeManager) {
            window.themeManager.toggleTheme();
            
            // ุชุญุฏูุซ ูุต ุฒุฑ ุงูุซูู
            const themeText = themeToggle.querySelector('span');
            if (themeText) {
              const currentTheme = window.themeManager.getCurrentTheme();
              const currentLang = window.Translations ? window.Translations.getCurrentLanguage() : 'ar';
              if (currentLang === 'ar') {
                themeText.textContent = currentTheme === 'light' ? 'ูุงุชุญ' : 'ุฏุงูู';
              } else {
                themeText.textContent = currentTheme === 'light' ? 'Light' : 'Dark';
              }
            }
          }
        });
      }
    });
  </script>
</body>
</html>

